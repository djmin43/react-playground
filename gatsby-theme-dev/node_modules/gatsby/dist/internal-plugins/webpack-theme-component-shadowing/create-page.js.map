{"version":3,"file":"create-page.js","names":["GatsbyThemeComponentShadowingResolverPlugin","require","store","module","exports","pageComponent","shadowingPlugin","extensions","getState","program","themes","flattenedPlugins","map","aPlugin","themeDir","pluginFilepath","themeName","name","projectRoot","directory","theme","component","getThemeAndComponent","componentPath","resolveComponentPath","originalRequestComponent"],"sources":["../../../src/internal-plugins/webpack-theme-component-shadowing/create-page.js"],"sourcesContent":["const GatsbyThemeComponentShadowingResolverPlugin = require(`.`)\nconst { store } = require(`../../redux`)\n\nmodule.exports = function (pageComponent) {\n  const shadowingPlugin = new GatsbyThemeComponentShadowingResolverPlugin({\n    extensions: store.getState().program.extensions,\n    themes: store.getState().flattenedPlugins.map(aPlugin => {\n      return {\n        themeDir: aPlugin.pluginFilepath,\n        themeName: aPlugin.name,\n      }\n    }),\n    projectRoot: store.getState().program.directory,\n  })\n  const [theme, component] = shadowingPlugin.getThemeAndComponent(pageComponent)\n\n  if (theme) {\n    const componentPath = shadowingPlugin.resolveComponentPath({\n      theme,\n      component,\n      originalRequestComponent: pageComponent,\n    })\n    if (componentPath) {\n      return componentPath\n    }\n  }\n  return false\n}\n"],"mappings":";;AAAA,MAAMA,2CAA2C,GAAGC,OAAO,CAAE,GAAF,CAA3D;;AACA,MAAM;EAAEC;AAAF,IAAYD,OAAO,CAAE,aAAF,CAAzB;;AAEAE,MAAM,CAACC,OAAP,GAAiB,UAAUC,aAAV,EAAyB;EACxC,MAAMC,eAAe,GAAG,IAAIN,2CAAJ,CAAgD;IACtEO,UAAU,EAAEL,KAAK,CAACM,QAAN,GAAiBC,OAAjB,CAAyBF,UADiC;IAEtEG,MAAM,EAAER,KAAK,CAACM,QAAN,GAAiBG,gBAAjB,CAAkCC,GAAlC,CAAsCC,OAAO,IAAI;MACvD,OAAO;QACLC,QAAQ,EAAED,OAAO,CAACE,cADb;QAELC,SAAS,EAAEH,OAAO,CAACI;MAFd,CAAP;IAID,CALO,CAF8D;IAQtEC,WAAW,EAAEhB,KAAK,CAACM,QAAN,GAAiBC,OAAjB,CAAyBU;EARgC,CAAhD,CAAxB;EAUA,MAAM,CAACC,KAAD,EAAQC,SAAR,IAAqBf,eAAe,CAACgB,oBAAhB,CAAqCjB,aAArC,CAA3B;;EAEA,IAAIe,KAAJ,EAAW;IACT,MAAMG,aAAa,GAAGjB,eAAe,CAACkB,oBAAhB,CAAqC;MACzDJ,KADyD;MAEzDC,SAFyD;MAGzDI,wBAAwB,EAAEpB;IAH+B,CAArC,CAAtB;;IAKA,IAAIkB,aAAJ,EAAmB;MACjB,OAAOA,aAAP;IACD;EACF;;EACD,OAAO,KAAP;AACD,CAxBD"}