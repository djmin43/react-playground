{"version":3,"file":"listen-to-webpack.js","names":["createWebpackWatcher","compiler","callback","hooks","invalid","tap","file","reporter","verbose","type"],"sources":["../../src/services/listen-to-webpack.ts"],"sourcesContent":["import { Compiler } from \"webpack\"\nimport { InvokeCallback } from \"xstate\"\nimport reporter from \"gatsby-cli/lib/reporter\"\n\nexport const createWebpackWatcher =\n  (compiler: Compiler): InvokeCallback =>\n  (callback): void => {\n    compiler.hooks.invalid.tap(`file invalidation`, file => {\n      reporter.verbose(`Webpack file changed: ${file}`)\n      callback({ type: `SOURCE_FILE_CHANGED`, file })\n    })\n  }\n"],"mappings":";;;;;;;AAEA;;AAEO,MAAMA,oBAAoB,GAC9BC,QAAD,IACCC,QAAD,IAAoB;EAClBD,QAAQ,CAACE,KAAT,CAAeC,OAAf,CAAuBC,GAAvB,CAA4B,mBAA5B,EAAgDC,IAAI,IAAI;IACtDC,iBAAA,CAASC,OAAT,CAAkB,yBAAwBF,IAAK,EAA/C;;IACAJ,QAAQ,CAAC;MAAEO,IAAI,EAAG,qBAAT;MAA+BH;IAA/B,CAAD,CAAR;EACD,CAHD;AAID,CAPI"}