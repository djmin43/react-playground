{"version":3,"file":"write-out-requires.js","names":["writeOutRequires","store","parentSpan","assertStore","activity","reporter","activityTimer","start","writeAll","getState","err","panic","end"],"sources":["../../src/services/write-out-requires.ts"],"sourcesContent":["import reporter from \"gatsby-cli/lib/reporter\"\nimport { writeAll } from \"../bootstrap/requires-writer\"\nimport { IQueryRunningContext } from \"../state-machines/query-running/types\"\nimport { assertStore } from \"../utils/assert-store\"\n\nexport async function writeOutRequires({\n  store,\n  parentSpan,\n}: Partial<IQueryRunningContext>): Promise<void> {\n  assertStore(store)\n\n  // Write out files.\n  const activity = reporter.activityTimer(`write out requires`, {\n    parentSpan,\n  })\n  activity.start()\n  try {\n    await writeAll(store.getState())\n  } catch (err) {\n    reporter.panic(`Failed to write out requires`, err)\n  }\n  activity.end()\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA;;AAEO,eAAeA,gBAAf,CAAgC;EACrCC,KADqC;EAErCC;AAFqC,CAAhC,EAG0C;EAC/C,IAAAC,wBAAA,EAAYF,KAAZ,EAD+C,CAG/C;;EACA,MAAMG,QAAQ,GAAGC,iBAAA,CAASC,aAAT,CAAwB,oBAAxB,EAA6C;IAC5DJ;EAD4D,CAA7C,CAAjB;;EAGAE,QAAQ,CAACG,KAAT;;EACA,IAAI;IACF,MAAM,IAAAC,wBAAA,EAASP,KAAK,CAACQ,QAAN,EAAT,CAAN;EACD,CAFD,CAEE,OAAOC,GAAP,EAAY;IACZL,iBAAA,CAASM,KAAT,CAAgB,8BAAhB,EAA+CD,GAA/C;EACD;;EACDN,QAAQ,CAACQ,GAAT;AACD"}