{"version":3,"file":"build-schema.js","names":["buildSchema","parentSpan","refresh","Boolean","process","env","GATSBY_EXPERIMENTAL_DISABLE_SCHEMA_REBUILD","activity","reporter","activityTimer","start","build","span","end"],"sources":["../../src/services/build-schema.ts"],"sourcesContent":["import { build } from \"../schema\"\nimport reporter from \"gatsby-cli/lib/reporter\"\nimport { IDataLayerContext } from \"../state-machines/data-layer/types\"\n\nexport async function buildSchema({\n  parentSpan,\n  refresh,\n}: Partial<IDataLayerContext>): Promise<void> {\n  if (\n    refresh &&\n    Boolean(process.env.GATSBY_EXPERIMENTAL_DISABLE_SCHEMA_REBUILD)\n  ) {\n    return\n  }\n  const activity = reporter.activityTimer(`building schema`, {\n    parentSpan,\n  })\n  activity.start()\n  await build({ parentSpan: activity.span })\n  activity.end()\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AAGO,eAAeA,WAAf,CAA2B;EAChCC,UADgC;EAEhCC;AAFgC,CAA3B,EAGuC;EAC5C,IACEA,OAAO,IACPC,OAAO,CAACC,OAAO,CAACC,GAAR,CAAYC,0CAAb,CAFT,EAGE;IACA;EACD;;EACD,MAAMC,QAAQ,GAAGC,iBAAA,CAASC,aAAT,CAAwB,iBAAxB,EAA0C;IACzDR;EADyD,CAA1C,CAAjB;;EAGAM,QAAQ,CAACG,KAAT;EACA,MAAM,IAAAC,aAAA,EAAM;IAAEV,UAAU,EAAEM,QAAQ,CAACK;EAAvB,CAAN,CAAN;EACAL,QAAQ,CAACM,GAAT;AACD"}