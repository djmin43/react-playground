{"version":3,"file":"post-bootstrap.js","names":["postBootstrap","parentSpan","deferNodeMutation","activity","reporter","activityTimer","start","apiRunnerNode","span","end","info","stripIndent","process","uptime","toFixed","emitter","emit","store","dispatch","actions","setProgramStatus"],"sources":["../../src/services/post-bootstrap.ts"],"sourcesContent":["import reporter from \"gatsby-cli/lib/reporter\"\nimport { emitter, store } from \"../redux\"\nimport apiRunnerNode from \"../utils/api-runner-node\"\nimport { IDataLayerContext } from \"../state-machines/data-layer/types\"\nimport { actions } from \"../redux/actions\"\n\nexport async function postBootstrap({\n  parentSpan,\n  deferNodeMutation,\n}: Partial<IDataLayerContext>): Promise<void> {\n  const activity = reporter.activityTimer(`onPostBootstrap`, {\n    parentSpan,\n  })\n  activity.start()\n  await apiRunnerNode(`onPostBootstrap`, {\n    parentSpan: activity.span,\n    deferNodeMutation,\n  })\n  activity.end()\n\n  reporter.info(reporter.stripIndent`\n    bootstrap finished - ${process.uptime().toFixed(3)}s\n  `)\n  emitter.emit(`BOOTSTRAP_FINISHED`, {})\n  store.dispatch(actions.setProgramStatus(`BOOTSTRAP_FINISHED`))\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AAEA;;AAEO,eAAeA,aAAf,CAA6B;EAClCC,UADkC;EAElCC;AAFkC,CAA7B,EAGuC;EAC5C,MAAMC,QAAQ,GAAGC,iBAAA,CAASC,aAAT,CAAwB,iBAAxB,EAA0C;IACzDJ;EADyD,CAA1C,CAAjB;;EAGAE,QAAQ,CAACG,KAAT;EACA,MAAM,IAAAC,sBAAA,EAAe,iBAAf,EAAiC;IACrCN,UAAU,EAAEE,QAAQ,CAACK,IADgB;IAErCN;EAFqC,CAAjC,CAAN;EAIAC,QAAQ,CAACM,GAAT;;EAEAL,iBAAA,CAASM,IAAT,CAAcN,iBAAA,CAASO,WAAY;AACrC,2BAA2BC,OAAO,CAACC,MAAR,GAAiBC,OAAjB,CAAyB,CAAzB,CAA4B;AACvD,GAFE;;EAGAC,cAAA,CAAQC,IAAR,CAAc,oBAAd,EAAmC,EAAnC;;EACAC,YAAA,CAAMC,QAAN,CAAeC,gBAAA,CAAQC,gBAAR,CAA0B,oBAA1B,CAAf;AACD"}