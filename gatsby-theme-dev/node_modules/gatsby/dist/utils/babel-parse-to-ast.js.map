{"version":3,"file":"babel-parse-to-ast.js","names":["PARSER_OPTIONS","allowImportExportEverywhere","allowReturnOutsideFunction","allowSuperOutsideMethod","sourceType","plugins","decoratorsBeforeExport","proposal","getBabelParserOptions","filePath","test","map","plugin","babelParseToAst","contents","parse"],"sources":["../../src/utils/babel-parse-to-ast.ts"],"sourcesContent":["import { parse, ParserOptions } from \"@babel/parser\"\nimport { File } from \"@babel/types\"\n\nconst PARSER_OPTIONS: ParserOptions = {\n  allowImportExportEverywhere: true,\n  allowReturnOutsideFunction: true,\n  allowSuperOutsideMethod: true,\n  sourceType: `unambiguous`,\n  plugins: [\n    `jsx`,\n    `flow`,\n    `doExpressions`,\n    `objectRestSpread`,\n    [\n      `decorators`,\n      {\n        decoratorsBeforeExport: true,\n      },\n    ],\n    `classProperties`,\n    `classPrivateProperties`,\n    `classPrivateMethods`,\n    `exportDefaultFrom`,\n    `exportNamespaceFrom`,\n    `asyncGenerators`,\n    `functionBind`,\n    `functionSent`,\n    `dynamicImport`,\n    `numericSeparator`,\n    `optionalChaining`,\n    `importMeta`,\n    `bigInt`,\n    `optionalCatchBinding`,\n    `throwExpressions`,\n    [\n      `pipelineOperator`,\n      {\n        proposal: `minimal`,\n      },\n    ],\n    `nullishCoalescingOperator`,\n  ],\n}\n\nexport function getBabelParserOptions(filePath: string): ParserOptions {\n  // Flow and TypeScript plugins can't be enabled simultaneously\n  if (/\\.tsx?/.test(filePath)) {\n    const { plugins } = PARSER_OPTIONS\n    return {\n      ...PARSER_OPTIONS,\n      plugins: plugins!.map(plugin =>\n        plugin === `flow` ? `typescript` : plugin\n      ),\n    }\n  }\n  return PARSER_OPTIONS\n}\n\nexport function babelParseToAst(contents: string, filePath: string): File {\n  return parse(contents, getBabelParserOptions(filePath))\n}\n"],"mappings":";;;;;;AAAA;;AAGA,MAAMA,cAA6B,GAAG;EACpCC,2BAA2B,EAAE,IADO;EAEpCC,0BAA0B,EAAE,IAFQ;EAGpCC,uBAAuB,EAAE,IAHW;EAIpCC,UAAU,EAAG,aAJuB;EAKpCC,OAAO,EAAE,CACN,KADM,EAEN,MAFM,EAGN,eAHM,EAIN,kBAJM,EAKP,CACG,YADH,EAEE;IACEC,sBAAsB,EAAE;EAD1B,CAFF,CALO,EAWN,iBAXM,EAYN,wBAZM,EAaN,qBAbM,EAcN,mBAdM,EAeN,qBAfM,EAgBN,iBAhBM,EAiBN,cAjBM,EAkBN,cAlBM,EAmBN,eAnBM,EAoBN,kBApBM,EAqBN,kBArBM,EAsBN,YAtBM,EAuBN,QAvBM,EAwBN,sBAxBM,EAyBN,kBAzBM,EA0BP,CACG,kBADH,EAEE;IACEC,QAAQ,EAAG;EADb,CAFF,CA1BO,EAgCN,2BAhCM;AAL2B,CAAtC;;AAyCO,SAASC,qBAAT,CAA+BC,QAA/B,EAAgE;EACrE;EACA,IAAI,SAASC,IAAT,CAAcD,QAAd,CAAJ,EAA6B;IAC3B,MAAM;MAAEJ;IAAF,IAAcL,cAApB;IACA,OAAO,EACL,GAAGA,cADE;MAELK,OAAO,EAAEA,OAAO,CAAEM,GAAT,CAAaC,MAAM,IAC1BA,MAAM,KAAM,MAAZ,GAAqB,YAArB,GAAmCA,MAD5B;IAFJ,CAAP;EAMD;;EACD,OAAOZ,cAAP;AACD;;AAEM,SAASa,eAAT,CAAyBC,QAAzB,EAA2CL,QAA3C,EAAmE;EACxE,OAAO,IAAAM,aAAA,EAAMD,QAAN,EAAgBN,qBAAqB,CAACC,QAAD,CAArC,CAAP;AACD"}