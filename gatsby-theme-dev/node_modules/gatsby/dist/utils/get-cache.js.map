{"version":3,"file":"get-cache.js","names":["caches","Map","getCache","name","cache","get","isLmdbStore","GatsbyCacheLmdb","require","default","init","GatsbyCache","set"],"sources":["../../src/utils/get-cache.ts"],"sourcesContent":["import GatsbyCache from \"./cache\"\nimport { isLmdbStore } from \"../datastore\"\n\nconst caches = new Map<string, GatsbyCache>()\n\nexport const getCache = (name: string): GatsbyCache => {\n  let cache = caches.get(name)\n  if (!cache) {\n    if (isLmdbStore()) {\n      const GatsbyCacheLmdb = require(`./cache-lmdb`).default\n      cache = new GatsbyCacheLmdb({ name }).init() as GatsbyCache\n    } else {\n      cache = new GatsbyCache({ name }).init()\n    }\n    caches.set(name, cache)\n  }\n  return cache\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AAEA,MAAMA,MAAM,GAAG,IAAIC,GAAJ,EAAf;;AAEO,MAAMC,QAAQ,GAAIC,IAAD,IAA+B;EACrD,IAAIC,KAAK,GAAGJ,MAAM,CAACK,GAAP,CAAWF,IAAX,CAAZ;;EACA,IAAI,CAACC,KAAL,EAAY;IACV,IAAI,IAAAE,sBAAA,GAAJ,EAAmB;MACjB,MAAMC,eAAe,GAAGC,OAAO,CAAE,cAAF,CAAP,CAAwBC,OAAhD;;MACAL,KAAK,GAAG,IAAIG,eAAJ,CAAoB;QAAEJ;MAAF,CAApB,EAA8BO,IAA9B,EAAR;IACD,CAHD,MAGO;MACLN,KAAK,GAAG,IAAIO,cAAJ,CAAgB;QAAER;MAAF,CAAhB,EAA0BO,IAA1B,EAAR;IACD;;IACDV,MAAM,CAACY,GAAP,CAAWT,IAAX,EAAiBC,KAAjB;EACD;;EACD,OAAOA,KAAP;AACD,CAZM"}