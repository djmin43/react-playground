{"version":3,"file":"index.js","names":["validateEngines","directory","worker","WorkerPool","require","resolve","numWorkers","env","GATSBY_OPEN_TRACING_CONFIG_FILE","silent","single","validate","end"],"sources":["../../../src/utils/validate-engines/index.ts"],"sourcesContent":["import { WorkerPool } from \"gatsby-worker\"\n\nexport async function validateEngines(directory: string): Promise<void> {\n  const worker = new WorkerPool<typeof import(\"./child\")>(\n    require.resolve(`./child`),\n    {\n      numWorkers: 1,\n      env: {\n        // Do not \"inherit\" this env var for validation,\n        // as otherwise validation will fail on any imports\n        // that OpenTracing config might make\n        GATSBY_OPEN_TRACING_CONFIG_FILE: ``,\n      },\n      silent: true,\n    }\n  )\n\n  try {\n    await worker.single.validate(directory)\n  } finally {\n    worker.end()\n  }\n}\n"],"mappings":";;;;;AAAA;;AAEO,eAAeA,eAAf,CAA+BC,SAA/B,EAAiE;EACtE,MAAMC,MAAM,GAAG,IAAIC,wBAAJ,CACbC,OAAO,CAACC,OAAR,CAAiB,SAAjB,CADa,EAEb;IACEC,UAAU,EAAE,CADd;IAEEC,GAAG,EAAE;MACH;MACA;MACA;MACAC,+BAA+B,EAAG;IAJ/B,CAFP;IAQEC,MAAM,EAAE;EARV,CAFa,CAAf;;EAcA,IAAI;IACF,MAAMP,MAAM,CAACQ,MAAP,CAAcC,QAAd,CAAuBV,SAAvB,CAAN;EACD,CAFD,SAEU;IACRC,MAAM,CAACU,GAAP;EACD;AACF"}