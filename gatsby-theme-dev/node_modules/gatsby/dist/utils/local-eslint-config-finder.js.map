{"version":3,"file":"local-eslint-config-finder.js","names":["log","debug","hasLocalEslint","directory","pkg","require","path","resolve","eslintConfig","err","report","error","eslintFiles","glob","sync","cwd","length"],"sources":["../../src/utils/local-eslint-config-finder.ts"],"sourcesContent":["import path from \"path\"\nimport glob from \"glob\"\nimport debug from \"debug\"\nimport report from \"gatsby-cli/lib/reporter\"\n\nconst log = debug(`gatsby:webpack-eslint-config`)\n\nexport const hasLocalEslint = (directory: string): boolean => {\n  try {\n    log(`Attempting to load package.json for eslint config check`)\n\n    const pkg = require(path.resolve(directory, `package.json`))\n    if (pkg.eslintConfig) {\n      return true\n    }\n  } catch (err) {\n    report.error(`There was a problem processing the package.json file`, err)\n  }\n\n  log(`Checking for eslint config file`)\n  const eslintFiles = glob.sync(`.eslintrc?(.js|.json|.yaml|.yml)`, {\n    cwd: directory,\n  })\n\n  if (eslintFiles.length) {\n    return true\n  }\n\n  return false\n}\n"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AAEA,MAAMA,GAAG,GAAG,IAAAC,cAAA,EAAO,8BAAP,CAAZ;;AAEO,MAAMC,cAAc,GAAIC,SAAD,IAAgC;EAC5D,IAAI;IACFH,GAAG,CAAE,yDAAF,CAAH;;IAEA,MAAMI,GAAG,GAAGC,OAAO,CAACC,aAAA,CAAKC,OAAL,CAAaJ,SAAb,EAAyB,cAAzB,CAAD,CAAnB;;IACA,IAAIC,GAAG,CAACI,YAAR,EAAsB;MACpB,OAAO,IAAP;IACD;EACF,CAPD,CAOE,OAAOC,GAAP,EAAY;IACZC,iBAAA,CAAOC,KAAP,CAAc,sDAAd,EAAqEF,GAArE;EACD;;EAEDT,GAAG,CAAE,iCAAF,CAAH;;EACA,MAAMY,WAAW,GAAGC,aAAA,CAAKC,IAAL,CAAW,kCAAX,EAA8C;IAChEC,GAAG,EAAEZ;EAD2D,CAA9C,CAApB;;EAIA,IAAIS,WAAW,CAACI,MAAhB,EAAwB;IACtB,OAAO,IAAP;EACD;;EAED,OAAO,KAAP;AACD,CAtBM"}