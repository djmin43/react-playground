{"version":3,"file":"engines-helpers.js","names":["shouldPrintEngineSnapshot","process","env","gatsby_executing_command","generate","shouldGenerateEngines","emitter","on","action","payload","mode","serverData","config"],"sources":["../../src/utils/engines-helpers.ts"],"sourcesContent":["import { emitter } from \"../redux\"\nimport { ICreatePageAction, ISetComponentFeatures } from \"../redux/types\"\n\nexport function shouldPrintEngineSnapshot(): boolean {\n  return process.env.gatsby_executing_command === `build`\n}\n\nlet generate = false\nexport function shouldGenerateEngines(): boolean {\n  return process.env.gatsby_executing_command === `build` && generate\n}\n\nemitter.on(`CREATE_PAGE`, (action: ICreatePageAction) => {\n  if (action.payload.mode && action.payload.mode !== `SSG`) generate = true\n})\nemitter.on(`SET_COMPONENT_FEATURES`, (action: ISetComponentFeatures) => {\n  if (action.payload.serverData) generate = true\n  if (action.payload.config) generate = true\n})\n"],"mappings":";;;;;;AAAA;;AAGO,SAASA,yBAAT,GAA8C;EACnD,OAAOC,OAAO,CAACC,GAAR,CAAYC,wBAAZ,KAA0C,OAAjD;AACD;;AAED,IAAIC,QAAQ,GAAG,KAAf;;AACO,SAASC,qBAAT,GAA0C;EAC/C,OAAOJ,OAAO,CAACC,GAAR,CAAYC,wBAAZ,KAA0C,OAA1C,IAAoDC,QAA3D;AACD;;AAEDE,cAAA,CAAQC,EAAR,CAAY,aAAZ,EAA2BC,MAAD,IAA+B;EACvD,IAAIA,MAAM,CAACC,OAAP,CAAeC,IAAf,IAAuBF,MAAM,CAACC,OAAP,CAAeC,IAAf,KAAyB,KAApD,EAA0DN,QAAQ,GAAG,IAAX;AAC3D,CAFD;;AAGAE,cAAA,CAAQC,EAAR,CAAY,wBAAZ,EAAsCC,MAAD,IAAmC;EACtE,IAAIA,MAAM,CAACC,OAAP,CAAeE,UAAnB,EAA+BP,QAAQ,GAAG,IAAX;EAC/B,IAAII,MAAM,CAACC,OAAP,CAAeG,MAAnB,EAA2BR,QAAQ,GAAG,IAAX;AAC5B,CAHD"}