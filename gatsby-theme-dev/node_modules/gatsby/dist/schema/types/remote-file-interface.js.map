{"version":3,"file":"remote-file-interface.js","names":["addRemoteFileInterfaceFields","schemaComposer","typeComposer","remoteFileInterfaceType","getOrCreateRemoteFileInterface","addFields","getFields","enums","getRemoteFileEnums","createEnumTC","bind","getOrCreateOTC","tc","width","height","src","getOrCreateIFTC","setDescription","boundActions","bindActionCreators","actions","store","dispatch","getRemoteFileFields"],"sources":["../../../src/schema/types/remote-file-interface.ts"],"sourcesContent":["import {\n  SchemaComposer,\n  ObjectTypeComposer,\n  InterfaceTypeComposer,\n} from \"graphql-compose\"\nimport { bindActionCreators } from \"redux\"\nimport { store } from \"../../redux/index\"\nimport { actions } from \"../../redux/actions/index\"\nimport {\n  getRemoteFileEnums,\n  getRemoteFileFields,\n} from \"gatsby-plugin-utils/polyfill-remote-file\"\n\nexport function addRemoteFileInterfaceFields<TContext = unknown>(\n  schemaComposer: SchemaComposer<unknown>,\n  typeComposer: ObjectTypeComposer<unknown, TContext>\n): void {\n  const remoteFileInterfaceType = getOrCreateRemoteFileInterface(schemaComposer)\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  typeComposer.addFields(remoteFileInterfaceType.getFields() as any)\n}\n\nexport function getOrCreateRemoteFileInterface(\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  schemaComposer: SchemaComposer<any>\n): InterfaceTypeComposer {\n  const enums = getRemoteFileEnums(\n    schemaComposer.createEnumTC.bind(schemaComposer)\n  )\n\n  schemaComposer.getOrCreateOTC(`RemoteFileResize`, tc => {\n    tc.addFields({\n      width: `Int`,\n      height: `Int`,\n      src: `String`,\n    })\n  })\n\n  return schemaComposer.getOrCreateIFTC(`RemoteFile`, tc => {\n    tc.setDescription(`Remote Interface`)\n\n    const boundActions = bindActionCreators(actions, store.dispatch)\n\n    // @ts-ignore - types are messed up by schema composer maybe new version helps here\n    tc.addFields(getRemoteFileFields(enums, boundActions, store))\n  })\n}\n"],"mappings":";;;;;;AAKA;;AACA;;AACA;;AACA;;AAKO,SAASA,4BAAT,CACLC,cADK,EAELC,YAFK,EAGC;EACN,MAAMC,uBAAuB,GAAGC,8BAA8B,CAACH,cAAD,CAA9D,CADM,CAEN;;EACAC,YAAY,CAACG,SAAb,CAAuBF,uBAAuB,CAACG,SAAxB,EAAvB;AACD;;AAEM,SAASF,8BAAT,EACL;AACAH,cAFK,EAGkB;EACvB,MAAMM,KAAK,GAAG,IAAAC,sCAAA,EACZP,cAAc,CAACQ,YAAf,CAA4BC,IAA5B,CAAiCT,cAAjC,CADY,CAAd;EAIAA,cAAc,CAACU,cAAf,CAA+B,kBAA/B,EAAkDC,EAAE,IAAI;IACtDA,EAAE,CAACP,SAAH,CAAa;MACXQ,KAAK,EAAG,KADG;MAEXC,MAAM,EAAG,KAFE;MAGXC,GAAG,EAAG;IAHK,CAAb;EAKD,CAND;EAQA,OAAOd,cAAc,CAACe,eAAf,CAAgC,YAAhC,EAA6CJ,EAAE,IAAI;IACxDA,EAAE,CAACK,cAAH,CAAmB,kBAAnB;IAEA,MAAMC,YAAY,GAAG,IAAAC,yBAAA,EAAmBC,eAAnB,EAA4BC,YAAA,CAAMC,QAAlC,CAArB,CAHwD,CAKxD;;IACAV,EAAE,CAACP,SAAH,CAAa,IAAAkB,uCAAA,EAAoBhB,KAApB,EAA2BW,YAA3B,EAAyCG,YAAzC,CAAb;EACD,CAPM,CAAP;AAQD"}