var e=require("prop-types"),t=require("react"),n=require("@gatsbyjs/reach-router"),r=require("gatsby-page-utils/apply-trailing-slash-option");function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=/*#__PURE__*/o(e),i=/*#__PURE__*/o(t);function s(){return s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function l(e,t){return l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=e||"/",n="",r="",o=t.indexOf("#");-1!==o&&(r=t.slice(o),t=t.slice(0,o));var a=t.indexOf("?");return-1!==a&&(n=t.slice(a),t=t.slice(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}var u=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,p=function(e){if("string"==typeof e)return!function(e){return u.test(e)}(e)},f=function(){return"production"!==process.env.NODE_ENV?"undefined"!=typeof __PATH_PREFIX__?__PATH_PREFIX__:void 0:__PATH_PREFIX__};function h(e,t){var n,r;if(void 0===t&&(t="production"!==process.env.NODE_ENV?"undefined"!=typeof __BASE_PATH__?__BASE_PATH__:void 0:__BASE_PATH__),!p(e))return e;if(e.startsWith("./")||e.startsWith("../"))return e;var o=null!=(n=null!=(r=t)?r:f())?n:"/";return""+(null!=o&&o.endsWith("/")?o.slice(0,-1):o)+(e.startsWith("/")?e:"/"+e)}var d=function(e){return null==e?void 0:e.startsWith("/")},_=function(){return"undefined"!=typeof __TRAILING_SLASH__?__TRAILING_SLASH__:void 0},v=function(e,t){if("number"==typeof e)return e;if(!p(e))return e;var o=c(e),a=o.pathname,i=o.search,s=o.hash,l=_(),u=e;return"always"!==l&&"never"!==l||(u=""+r.applyTrailingSlashOption(a,l)+i+s),d(u)?h(u):function(e,t){if(d(e))return e;var o=_(),a=n.resolve(e,t);return"always"===o||"never"===o?r.applyTrailingSlashOption(a,o):a}(u,t)},y=["to","getProps","onClick","onMouseEnter","activeClassName","activeStyle","innerRef","partiallyActive","state","replace","_location"],b={activeClassName:a.default.string,activeStyle:a.default.object,partiallyActive:a.default.bool};function w(e){/*#__PURE__*/return i.default.createElement(n.Location,null,function(t){/*#__PURE__*/return i.default.createElement(P,s({},e,{_location:t.location}))})}var P=/*#__PURE__*/function(e){var t,r;function o(t){var n;(n=e.call(this,t)||this).defaultGetProps=function(e){return(n.props.partiallyActive?e.isPartiallyCurrent:e.isCurrent)?{className:[n.props.className,n.props.activeClassName].filter(Boolean).join(" "),style:s({},n.props.style,n.props.activeStyle)}:null};var r=!1;return"undefined"!=typeof window&&window.IntersectionObserver&&(r=!0),n.state={IOSupported:r},n.abortPrefetch=null,n.handleRef=n.handleRef.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(n)),n}r=e,(t=o).prototype=Object.create(r.prototype),t.prototype.constructor=t,l(t,r);var a=o.prototype;return a._prefetch=function(){var e=window.location.pathname+window.location.search;this.props._location&&this.props._location.pathname&&(e=this.props._location.pathname+this.props._location.search);var t=c(v(this.props.to,e)),n=t.pathname+t.search;if(e!==n)return ___loader.enqueue(n)},a.componentWillUnmount=function(){if(this.io){var e=this.io,t=e.instance,n=e.el;this.abortPrefetch&&this.abortPrefetch.abort(),t.unobserve(n),t.disconnect()}},a.handleRef=function(e){var t,n,r,o=this;this.props.innerRef&&Object.prototype.hasOwnProperty.call(this.props.innerRef,"current")?this.props.innerRef.current=e:this.props.innerRef&&this.props.innerRef(e),this.state.IOSupported&&e&&(this.io=(t=e,n=function(e){e?o.abortPrefetch=o._prefetch():o.abortPrefetch&&o.abortPrefetch.abort()},(r=new window.IntersectionObserver(function(e){e.forEach(function(e){t===e.target&&n(e.isIntersecting||e.intersectionRatio>0)})})).observe(t),{instance:r,el:t}))},a.render=function(){var e=this,t=this.props,r=t.to,o=t.getProps,a=void 0===o?this.defaultGetProps:o,l=t.onClick,u=t.onMouseEnter,f=t.state,h=t.replace,d=t._location,_=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t.indexOf(n=a[r])>=0||(o[n]=e[n]);return o}(t,y);"production"===process.env.NODE_ENV||p(r)||console.warn("External link "+r+" was detected in a Link component. Use the Link component only for internal links. See: https://gatsby.dev/internal-links");var b=v(r,d.pathname);return p(b)?/*#__PURE__*/i.default.createElement(n.Link,s({to:b,state:f,getProps:a,innerRef:this.handleRef,onMouseEnter:function(e){u&&u(e);var t=c(b);___loader.hovering(t.pathname+t.search)},onClick:function(t){if(l&&l(t),!(0!==t.button||e.props.target||t.defaultPrevented||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)){t.preventDefault();var n=h,r=encodeURI(b)===d.pathname;"boolean"!=typeof h&&r&&(n=!0),window.___navigate(b,{state:f,replace:n})}return!0}},_)):/*#__PURE__*/i.default.createElement("a",s({href:b},_))},o}(i.default.Component);P.propTypes=s({},b,{onClick:a.default.func,to:a.default.string.isRequired,replace:a.default.bool,state:a.default.object});var m=i.default.forwardRef(function(e,t){/*#__PURE__*/return i.default.createElement(w,s({innerRef:t},e))});exports.default=m,exports.navigate=function(e,t){window.___navigate(v(e,window.location.pathname),t)},exports.parsePath=c,exports.withAssetPrefix=function(e){return h(e,f())},exports.withPrefix=h;
//# sourceMappingURL=index.js.map
